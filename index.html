<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ramadan 2026 - Roza & Iftar Countdown</title>

<style>
  :root{
    --bg1:#07131b;
    --bg2:#0c2230;
    --card: rgba(255,255,255,0.08);
    --card2: rgba(255,255,255,0.12);
    --text: rgba(255,255,255,0.92);
    --muted: rgba(255,255,255,0.70);
    --accent:#ffd369;
    --mint:#00ffcc;
    --gold:#ffcc00;
    --danger:#ff5c7a;
    --line: rgba(255,255,255,0.10);
    --shadow: 0 18px 45px rgba(0,0,0,0.45);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: var(--text);
    background:
      radial-gradient(900px 500px at 20% 20%, rgba(255,211,105,0.15), transparent 60%),
      radial-gradient(900px 500px at 80% 70%, rgba(0,255,204,0.10), transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    display:flex;
    align-items:center;
    justify-content:center;
    padding:32px 14px;
  }

  .wrap{
    width: min(980px, 100%);
    display:grid;
    gap:16px;
  }

  .header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:16px;
    padding:18px 18px;
    border-radius:18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.05));
    box-shadow: var(--shadow);
    border: 1px solid var(--line);
    backdrop-filter: blur(10px);
    animation: fadeUp 520ms ease-out both;
    position:relative;
    overflow:hidden;
  }

  /* Subtle moving shimmer */
  .header:before{
    content:"";
    position:absolute;
    top:-40%;
    left:-30%;
    width:60%;
    height:160%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.06), transparent);
    transform: rotate(18deg);
    animation: shimmer 5.5s linear infinite;
    pointer-events:none;
  }

  .title{
    display:flex;
    align-items:center;
    gap:12px;
    position:relative;
    z-index:1;
  }

  .moon{
    width:42px;height:42px;
    border-radius:50%;
    background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95), rgba(255,255,255,0.35));
    box-shadow: 0 0 25px rgba(255,211,105,0.20);
    position:relative;
    overflow:hidden;
    animation: floaty 3.8s ease-in-out infinite;
  }
  .moon:after{
    content:"";
    position:absolute;
    inset:-10px;
    background: radial-gradient(circle at 70% 40%, rgba(0,0,0,0.55), transparent 55%);
    transform: rotate(12deg);
    opacity:0.55;
  }

  h1{
    margin:0;
    font-size: 22px;
    letter-spacing: 0.2px;
    line-height: 1.2;
  }
  .sub{
    margin:3px 0 0;
    color: var(--muted);
    font-size: 13px;
  }

  .live-time{
    text-align:right;
    min-width: 210px;
    position:relative;
    z-index:1;
  }
  .live-time .label{
    color: var(--muted);
    font-size: 12px;
  }
  .live-time .now{
    font-weight: 800;
    font-size: 16px;
    margin-top: 2px;
    letter-spacing: 0.3px;
  }

  .grid{
    display:grid;
    grid-template-columns: 1.25fr 0.75fr;
    gap:16px;
    align-items:start;
  }

  @media (max-width: 880px){
    .grid{ grid-template-columns: 1fr; }
    .live-time{ text-align:left; min-width: 0; }
    .header{ flex-direction:column; align-items:flex-start; }
  }

  .card{
    padding:18px;
    border-radius:18px;
    background: linear-gradient(180deg, var(--card2), var(--card));
    border: 1px solid var(--line);
    box-shadow: var(--shadow);
    backdrop-filter: blur(10px);
    animation: fadeUp 680ms ease-out both;
  }

  .row{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:10px;
    flex-wrap:wrap;
  }

  .pill{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:8px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.12);
    background: rgba(0,0,0,0.15);
    color: var(--muted);
    font-size: 13px;
  }
  .pill b{ color: var(--accent); }

  .kv{
    margin-top: 14px;
    display:grid;
    gap:10px;
  }

  .kv .item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:11px 12px;
    border-radius:14px;
    background: rgba(0,0,0,0.14);
    border: 1px solid rgba(255,255,255,0.08);
  }
  .kv .k{
    color: var(--muted);
    font-size: 13px;
    display:flex;
    align-items:center;
    gap:8px;
  }
  .kv .k svg{ opacity:0.9 }
  .kv .v{
    font-weight: 900;
    font-size: 15px;
    letter-spacing: 0.2px;
  }

  .countdownBox{
    margin-top: 14px;
    padding:14px;
    border-radius:16px;
    background: rgba(0,0,0,0.18);
    border: 1px solid rgba(255,255,255,0.10);
  }

  .cdTitle{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    color: var(--muted);
    font-size: 13px;
    margin-bottom:10px;
  }

  .digits{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
  }

  .digit{
    width: 94px;
    padding:10px 10px;
    border-radius:16px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.10);
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.25);
    transform: translateZ(0);
  }
  .digit .num{
    display:block;
    font-size: 26px;
    font-weight: 950;
    color: var(--gold);
    line-height: 1;
    transition: transform 220ms ease, opacity 220ms ease;
  }
  .digit.bump .num{
    transform: translateY(-2px) scale(1.03);
  }
  .digit .lbl{
    display:block;
    margin-top:6px;
    color: var(--muted);
    font-size: 12px;
    letter-spacing: 0.3px;
  }

  .status{
    margin-top: 12px;
    font-size: 13px;
    color: var(--muted);
  }
  .status .ok{ color: var(--mint); font-weight: 900; }
  .status .bad{ color: var(--danger); font-weight: 900; }

  .mini{
    margin-top:10px;
    display:flex;
    gap:10px;
    flex-wrap:wrap;
  }
  .mini .chip{
    flex:1 1 180px;
    padding:10px 12px;
    border-radius:14px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.10);
    color: var(--muted);
    font-size: 13px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
  }
  .mini .chip b{
    color: var(--accent);
    font-weight: 950;
  }

  /* Right side analogue clock card */
  .clockWrap{
    display:flex;
    flex-direction:column;
    gap:14px;
    align-items:center;
  }

  .clockTitle{
    width:100%;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    color: var(--muted);
    font-size: 13px;
  }

  .clock{
    width:min(280px, 100%);
    aspect-ratio:1/1;
    border-radius:22px;
    background: radial-gradient(circle at 30% 20%, rgba(255,211,105,0.10), transparent 55%),
                radial-gradient(circle at 70% 80%, rgba(0,255,204,0.08), transparent 60%),
                rgba(0,0,0,0.16);
    border: 1px solid rgba(255,255,255,0.10);
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.25), 0 16px 40px rgba(0,0,0,0.35);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px;
    position:relative;
    overflow:hidden;
    animation: fadeUp 760ms ease-out both;
  }

  .clock:after{
    content:"";
    position:absolute;
    inset:-40%;
    background: radial-gradient(circle, rgba(255,255,255,0.10), transparent 55%);
    animation: pulse 4.8s ease-in-out infinite;
    pointer-events:none;
  }

  svg#analogClock{
    width:100%;
    height:100%;
    position:relative;
    z-index:1;
  }

  .footer{
    text-align:center;
    color: rgba(255,255,255,0.65);
    font-size: 13px;
    padding: 10px 4px 0;
    animation: fadeUp 840ms ease-out both;
  }

  @keyframes fadeUp{
    from{ opacity:0; transform: translateY(10px); }
    to{ opacity:1; transform: translateY(0); }
  }
  @keyframes floaty{
    0%,100%{ transform: translateY(0); }
    50%{ transform: translateY(-4px); }
  }
  @keyframes shimmer{
    0%{ transform: translateX(-40%) rotate(18deg); opacity:0.0; }
    12%{ opacity:1; }
    50%{ opacity:0.8; }
    100%{ transform: translateX(210%) rotate(18deg); opacity:0.0; }
  }
  @keyframes pulse{
    0%,100%{ transform: scale(1); opacity:0.65; }
    50%{ transform: scale(1.05); opacity:0.95; }
  }
</style>
</head>

<body>
<div class="wrap">

  <div class="header">
    <div class="title">
      <div class="moon" aria-hidden="true"></div>
      <div>
        <h1>Ramadan 2026</h1>
        <div class="sub" id="rozaLine">Loading‚Ä¶</div>
      </div>
    </div>

    <div class="live-time">
      <div class="label">Current time</div>
      <div class="now" id="currentTime">--</div>
    </div>
  </div>

  <div class="grid">

    <!-- LEFT: Details + Countdown -->
    <div class="card">
      <div class="row">
        <div class="pill">Day <b id="dayOfMonth">--</b> of <b>30</b></div>
        <div class="pill">Today‚Äôs Iftar <b id="iftarTime">--</b></div>
        <div class="pill">Roza duration <b id="rozaDuration">--</b></div>
      </div>

      <div class="kv">
        <div class="item">
          <div class="k">
            <!-- Sunrise icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 20h10" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M12 4v4" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M5 12l2 2" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M19 12l-2 2" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M6 16a6 6 0 0 1 12 0" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Sehri ends / Roza starts
          </div>
          <div class="v" id="rozaStart">--</div>
        </div>

        <div class="item">
          <div class="k">
            <!-- Sunset icon -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 20h10" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M12 16v4" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M5 12l2-2" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M19 12l-2-2" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
              <path d="M6 16a6 6 0 0 0 12 0" stroke="rgba(255,255,255,0.7)" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Iftar time
          </div>
          <div class="v" id="iftarTime2">--</div>
        </div>
      </div>

      <div class="mini">
        <div class="chip">
          <span>Hours since Sehri</span>
          <b id="sehriPassed">--</b>
        </div>
        <div class="chip">
          <span>Minutes since Sehri</span>
          <b id="sehriPassedMin">--</b>
        </div>
      </div>

      <div class="countdownBox">
        <div class="cdTitle">
          <span>Time left for Iftar</span>
          <span id="stateText">--</span>
        </div>

        <div class="digits" aria-label="Countdown">
          <div class="digit" id="dH"><span class="num" id="hoursLeft">--</span><span class="lbl">Hours</span></div>
          <div class="digit" id="dM"><span class="num" id="minutesLeft">--</span><span class="lbl">Minutes</span></div>
          <div class="digit" id="dS"><span class="num" id="secondsLeft">--</span><span class="lbl">Seconds</span></div>
        </div>

        <div class="status" id="statusLine"></div>
      </div>
    </div>

    <!-- RIGHT: Analogue Clock -->
    <div class="card">
      <div class="clockWrap">
        <div class="clockTitle">
          <span>Analogue clock</span>
          <span style="color:rgba(255,255,255,0.55); font-size:12px;">Smooth second hand</span>
        </div>

        <div class="clock" aria-label="Analogue clock">
          <svg id="analogClock" viewBox="0 0 200 200" role="img" aria-label="Clock">
            <!-- Face -->
            <circle cx="100" cy="100" r="82" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.12)" stroke-width="2"/>
            <circle cx="100" cy="100" r="72" fill="none" stroke="rgba(0,0,0,0.35)" stroke-width="1"/>

            <!-- Hour ticks -->
            <g opacity="0.9">
              <g id="ticks"></g>
            </g>

            <!-- Hands -->
            <g id="hands" transform="translate(100 100)">
              <line id="hourHand" x1="0" y1="8" x2="0" y2="-38" stroke="rgba(255,255,255,0.90)" stroke-width="6" stroke-linecap="round"/>
              <line id="minHand"  x1="0" y1="10" x2="0" y2="-56" stroke="rgba(255,255,255,0.78)" stroke-width="4" stroke-linecap="round"/>
              <line id="secHand"  x1="0" y1="18" x2="0" y2="-62" stroke="rgba(255,211,105,0.95)" stroke-width="2.2" stroke-linecap="round"/>
              <circle cx="0" cy="0" r="5" fill="rgba(255,211,105,0.95)"/>
              <circle cx="0" cy="0" r="9" fill="none" stroke="rgba(255,255,255,0.12)" stroke-width="2"/>
            </g>

            <!-- Brand dot -->
            <circle cx="100" cy="100" r="90" fill="none" stroke="rgba(255,211,105,0.08)" stroke-width="2"/>
          </svg>
        </div>

        <!-- <div class="pill">Tip: set correct Sehri start times for accurate ‚Äúpassed since Sehri‚Äù.</div> -->
      </div>
    </div>

  </div>

  <div class="footer">ÿ±ŸÖÿ∂ÿßŸÜ ŸÉÿ±ŸäŸÖ üåô</div>
</div>

<script>
  // Ramadan start date (adjust if your local moon sighting differs)
  const ramadanStart = new Date("February 19, 2026 00:00:00");

  // Iftar times (30 days)
  const iftarTimes = [
    "5:56 PM","5:56 PM","5:57 PM","5:58 PM","5:59 PM",
    "6:00 PM","6:01 PM","6:02 PM","6:02 PM","6:03 PM",
    "6:04 PM","6:05 PM","6:06 PM","6:07 PM","6:07 PM",
    "6:08 PM","6:09 PM","6:10 PM","6:11 PM","6:11 PM",
    "6:12 PM","6:13 PM","6:14 PM","6:15 PM","6:15 PM",
    "6:16 PM","6:17 PM","6:18 PM","6:18 PM","6:19 PM"
  ];

  // Roza start times (30 days) - replace with your Sehri end/Fajr times
  const rozaStartTimes = Array(30).fill("5:00 AM");

  function getOrdinal(n) {
    if (n > 3 && n < 21) return n + "th";
    switch (n % 10) {
      case 1: return n + "st";
      case 2: return n + "nd";
      case 3: return n + "rd";
      default: return n + "th";
    }
  }

  function parseTimeToDate(baseDate, timeStr) {
    // timeStr like "5:56 PM"
    const [time, modifier] = timeStr.trim().split(" ");
    let [hours, minutes] = time.split(":");
    hours = parseInt(hours, 10);
    minutes = parseInt(minutes, 10);

    if (modifier === "PM" && hours !== 12) hours += 12;
    if (modifier === "AM" && hours === 12) hours = 0;

    const d = new Date(baseDate);
    d.setHours(hours);
    d.setMinutes(minutes);
    d.setSeconds(0);
    d.setMilliseconds(0);
    return d;
  }

  function fmtDuration(ms) {
    if (ms < 0) ms = 0;
    const totalSeconds = Math.floor(ms / 1000);
    const h = Math.floor(totalSeconds / 3600);
    const m = Math.floor((totalSeconds % 3600) / 60);
    return `${h}h ${m}m`;
  }

  function fmtPassed(ms){
    if (ms < 0) ms = 0;
    const totalSeconds = Math.floor(ms / 1000);
    const h = Math.floor(totalSeconds / 3600);
    const m = Math.floor((totalSeconds % 3600) / 60);
    return {h, m, totalMinutes: h*60 + m};
  }

  function bump(id){
    const el = document.getElementById(id);
    if (!el) return;
    el.classList.remove("bump");
    void el.offsetWidth; // reflow
    el.classList.add("bump");
  }

  function setDigit(elId, value){
    const el = document.getElementById(elId);
    if (!el) return;
    if (el.innerText !== String(value)) {
      el.innerText = value;
      const parent = el.parentElement;
      if (parent && parent.id) bump(parent.id);
    }
  }

  // Build clock ticks once
  (function buildTicks(){
    const g = document.getElementById("ticks");
    if (!g) return;

    for (let i = 0; i < 60; i++){
      const isHour = (i % 5 === 0);
      const len = isHour ? 10 : 5;
      const w = isHour ? 2.2 : 1.2;
      const opacity = isHour ? 0.9 : 0.45;

      const angle = (i * 6) * Math.PI / 180; // 360/60
      const r1 = 72;
      const r2 = 72 - len;

      const x1 = 100 + Math.sin(angle) * r1;
      const y1 = 100 - Math.cos(angle) * r1;
      const x2 = 100 + Math.sin(angle) * r2;
      const y2 = 100 - Math.cos(angle) * r2;

      const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
      line.setAttribute("x1", x1);
      line.setAttribute("y1", y1);
      line.setAttribute("x2", x2);
      line.setAttribute("y2", y2);
      line.setAttribute("stroke", "rgba(255,255,255," + opacity + ")");
      line.setAttribute("stroke-width", w);
      line.setAttribute("stroke-linecap", "round");
      g.appendChild(line);
    }
  })();

  function updateAnalogClock(now){
    const hourHand = document.getElementById("hourHand");
    const minHand  = document.getElementById("minHand");
    const secHand  = document.getElementById("secHand");
    if (!hourHand || !minHand || !secHand) return;

    const ms = now.getMilliseconds();
    const sec = now.getSeconds() + ms / 1000;     // smooth seconds
    const min = now.getMinutes() + sec / 60;      // smooth minutes
    const hr  = (now.getHours() % 12) + min / 60; // smooth hours

    const secDeg = sec * 6;     // 360/60
    const minDeg = min * 6;
    const hrDeg  = hr * 30;     // 360/12

    secHand.setAttribute("transform", `rotate(${secDeg})`);
    minHand.setAttribute("transform", `rotate(${minDeg})`);
    hourHand.setAttribute("transform", `rotate(${hrDeg})`);
  }

  function updateClock() {
    const now = new Date();

    document.getElementById("currentTime").innerText = now.toLocaleTimeString([], {
      hour: "2-digit", minute: "2-digit", second: "2-digit"
    });

    updateAnalogClock(now);

    // Day number
    const diffTime = now - ramadanStart;
    const dayNumber = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;

    const rozaLine = document.getElementById("rozaLine");

    if (dayNumber >= 1 && dayNumber <= 30) {
      const iftarStr = iftarTimes[dayNumber - 1];
      const rozaStartStr = rozaStartTimes[dayNumber - 1];

      document.getElementById("dayOfMonth").innerText = dayNumber;
      rozaLine.innerHTML = `Today is <span style="color:var(--accent); font-weight:950;">${getOrdinal(dayNumber)} Roza</span>`;

      document.getElementById("iftarTime").innerText = iftarStr;
      document.getElementById("iftarTime2").innerText = iftarStr;
      document.getElementById("rozaStart").innerText = rozaStartStr;

      const todayIftar = parseTimeToDate(now, iftarStr);
      const todayRozaStart = parseTimeToDate(now, rozaStartStr);

      // Duration (Sehri -> Iftar)
      const rozaMs = todayIftar - todayRozaStart;
      document.getElementById("rozaDuration").innerText = fmtDuration(rozaMs);

      // Passed since Sehri
      const passed = fmtPassed(now - todayRozaStart);
      document.getElementById("sehriPassed").innerText = `${String(passed.h).padStart(2,"0")}h ${String(passed.m).padStart(2,"0")}m`;
      document.getElementById("sehriPassedMin").innerText = `${passed.totalMinutes}`;

      // Countdown to iftar
      const timeDifference = todayIftar - now;

      if (timeDifference > 0) {
        const hoursLeft = Math.floor(timeDifference / (1000 * 60 * 60));
        const minutesLeft = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
        const secondsLeft = Math.floor((timeDifference % (1000 * 60)) / 1000);

        setDigit("hoursLeft", String(hoursLeft).padStart(2, "0"));
        setDigit("minutesLeft", String(minutesLeft).padStart(2, "0"));
        setDigit("secondsLeft", String(secondsLeft).padStart(2, "0"));

        document.getElementById("stateText").innerText = "Counting down";
        document.getElementById("statusLine").innerHTML =
          `Status: <span class="ok">Roza ongoing</span>`;

      } else {
        setDigit("hoursLeft", "00");
        setDigit("minutesLeft", "00");
        setDigit("secondsLeft", "00");

        document.getElementById("stateText").innerText = "Done";
        document.getElementById("statusLine").innerHTML =
          `Status: <span class="bad">Iftar time reached</span>`;
      }

    } else {
      rozaLine.innerText = "Ramadan 2026 is not active today.";
      document.getElementById("dayOfMonth").innerText = "--";
      document.getElementById("iftarTime").innerText = "--";
      document.getElementById("iftarTime2").innerText = "--";
      document.getElementById("rozaStart").innerText = "--";
      document.getElementById("rozaDuration").innerText = "--";

      document.getElementById("sehriPassed").innerText = "--";
      document.getElementById("sehriPassedMin").innerText = "--";

      setDigit("hoursLeft", "--");
      setDigit("minutesLeft", "--");
      setDigit("secondsLeft", "--");

      document.getElementById("stateText").innerText = "--";
      document.getElementById("statusLine").innerText = "";
    }
  }

  // Smooth clock animation (60fps) + digits update each second
  function tick(){
    updateAnalogClock(new Date());
    requestAnimationFrame(tick);
  }
  tick();

  setInterval(updateClock, 1000);
  updateClock();
</script>

</body>
</html>